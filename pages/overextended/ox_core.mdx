import { Steps, Tabs, Tab } from 'nextra-theme-docs';
import { Callout } from 'nextra/components';
import ResourceLinks from '@components/resource-links';
import { NpmButton } from '@components/button';

# Ox Core

<ResourceLinks repo="https://github.com/overextended/ox_core" />

Um framework moderno para FiveM, projetado para oferecer suporte adequado a recursos como OneSync, statebags e entidades no lado do servidor.

## Receita txAdmin

Se você está procurando instalar e configurar rapidamente o ox_core, tente usar [nossa receita](https://github.com/overextended/txAdminRecipe).

## Instalação

<Callout type="info">

Recomendamos **fortemente** consultar os [Guias](../guides) para configurar as ferramentas de desenvolvimento necessárias.

</Callout>

<Steps>
### Instale todas as dependências do recurso.
- [oxmysql](../oxmysql)
- [ox_lib](../ox_lib/)

### Baixe a última [versão](https://github.com/overextended/ox_core/releases/latest) ou compile o código-fonte.

- Configure [Git](../guides/git), [Node.js](../guides/nodejs), e [pnpm](../guides/pnpm).
- Baixe e configure [MariaDB 11.4+](https://mariadb.com/downloads/community/community-server/).
- Execute os seguintes comandos no seu CLI (ex.: Terminal, Prompt de Comando).


```bash
git clone https://github.com/overextended/ox_core.git
cd ox_core
pnpm i
pnpm build
```

### Instale dependências opcionais.

Esses recursos não são estritamente necessários, mas são fortemente recomendados.

- [ox_inventory](../ox_inventory/)
- [npwd](https://github.com/project-error/npwd)
- [illenium-appearance](https://github.com/iLLeniumStudios/illenium-appearance/archive/refs/heads/main.zip)

</Steps>

## Usando ox_core nos seus recursos

### Lua

Você pode importar as definições do ox_core carregando `@ox_core/lib/init.lua` no seu recurso.

<Tabs items={['fxmanifest.lua', 'require']}>
  <Tab>

    Isto pode ser um `client_script` ou `server_script`, se preferir.
    ```lua
    shared_script '@ox_core/lib/init.lua'
    ```

  </Tab>
  <Tab>

    Se preferir, você pode usar nossa função [require](../ox_lib/Modules/Require/Shared) do [ox_lib](../ox_lib).
    ```lua
    local Ox = require '@ox_core/lib/init'
    ```

  </Tab>
</Tabs>

### JavaScript

Para usar o ox_core com seus recursos JavaScript, você precisará do nosso pacote npm, que fornece suporte completo para TypeScript e Intellisense.

<NpmButton link="https://www.npmjs.com/package/@overextended/ox_core" />

Para começar, experimente nosso [fivem-typescript-boilerplate](https://github.com/overextended/fivem-typescript-boilerplate) e instale o pacote ox_core.

```bash
pnpm i @overextended/ox_core
```

## Configuração

A configuração do recurso é gerenciada usando [convars](https://docs.fivem.net/docs/scripting-reference/convars/).

### Replicados

Esses convars devem usar o comando `setr` para serem lidos pelos clientes.

- `ox:debug`
  - Padrão: `false`
  - Ativa mensagens e comandos de depuração. Habilitado por padrão ao usar `pnpm watch`.
- `ox:characterSlots`
  - Padrão: `1`
  - Define o número de slots de personagem disponíveis para recursos de seleção de personagens (ex.: ox_charselect).
- `ox:plateFormat`
  - Padrão: `"........"`
  - Consulte [SET_DEFAULT_VEHICLE_NUMBER_PLATE_TEXT_PATTERN](https://docs.fivem.net/natives/?_0x79780FD2).
- `ox:deathSystem`
  - Padrão: `true`
  - Ativa o sistema de morte e respawn integrado.
- `ox:characterSelect`
  - Padrão: `true`
  - Ativa o registro de personagem integrado e utiliza esse personagem ao entrar.
- `ox:spawnLocation`
  - Padrão: `[-258.211, -293.077, 21.6132, 206.0]`
  - Define o local de spawn padrão para personagens recém-criados.
